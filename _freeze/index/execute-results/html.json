{
  "hash": "2e8750b74687509ede65304d201c5d14",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Databrary & Million Tutor Moves Observatories\"\nauthor: Rick Gilmore\ndate: 2024-04-12\nexecute:\n  freeze: auto\nformat: html\n---\n\n\n## About\n\nThis page provides supplemental material for the conversation with the Million Tutor Moves Observatories project group on 2024-04-12.\n\n## Set-up\n\nInstall the development version of *databraryr* if needed.\nBy default the `eval: false` option in the code chunk means that the chunk will not be evaluated.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npak::pak(\"databrary/databraryr\")\n```\n:::\n\n\n## Log-in\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndrq <- databraryr::make_default_request()\ndatabraryr::login_db(email = Sys.getenv(\"DATABRARY_LOGIN\"), store = TRUE, rq = drq)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n## Retrieve data from volume 61\n\nDeLoache, J. (2014). Scale errors offer evidence for a perception-action dissociation early in life. *Databrary*. Retrieved April 11, 2024 from <http://doi.org/10.17910/B7H019>.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nv61_assets <- databraryr::list_volume_assets(vol_id = 61, rq = drq)\nv61_assets\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  asset_id asset_format_id asset_duration\n1    11547            -800          38996\n2    11550            -800          28076\n3    11552            -800          26065\n4    11556            -800          23662\n5    11555            -800          12769\n6    11557            -800          16015\n                                 asset_name asset_permission asset_size\n1                      Scale error with car                2    4102540\n2                    Scale error with chair                2    2820679\n3 Scale error with car (child removes shoe)                2    3961624\n4      Scale error with chair (2nd example)                2    1767886\n5                    Scale error with slide                2    1891488\n6      Scale error with slide (2nd example)                2    1426875\n  session_id format_mimetype format_extension  format_name\n1       9850       video/mp4              mp4 MPEG-4 video\n2       9850       video/mp4              mp4 MPEG-4 video\n3       9850       video/mp4              mp4 MPEG-4 video\n4       9850       video/mp4              mp4 MPEG-4 video\n5       9850       video/mp4              mp4 MPEG-4 video\n6       9850       video/mp4              mp4 MPEG-4 video\n```\n\n\n:::\n:::\n\n\nDownload videos to local folder.\n\n::: {.callout-warning}\n\nWhen downloading identifiable data, it's important to add the target directory (here `mp4/`) to the appropriate `.gitignore` file.\n\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndownloaded_fns <- v61_assets |>\n  dplyr::filter(format_extension == \"mp4\") |> # Not needed here, but handy\n  databraryr::download_session_assets_fr_df(target_dir = \"mp4\", \n                                            overwrite = TRUE,\n                                            make_portable_fn = TRUE, rq = drq)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n ■■■■■■                            17% |  ETA: 10s\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n ■■■■■■■■■■■■■■■■■■■■■             67% |  ETA:  2s\n```\n\n\n:::\n\n```{.r .cell-code}\ndownloaded_fns\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"mp4/9850/Scale_error_with_car.mp4\"                     \n[2] \"mp4/9850/Scale_error_with_chair.mp4\"                   \n[3] \"mp4/9850/Scale_error_with_car__child_removes_shoe_.mp4\"\n[4] \"mp4/9850/Scale_error_with_chair__2nd_example_.mp4\"     \n[5] \"mp4/9850/Scale_error_with_slide.mp4\"                   \n[6] \"mp4/9850/Scale_error_with_slide__2nd_example_.mp4\"     \n```\n\n\n:::\n:::\n\n\n::: {.callout-note}\n\nLooks like I need to clean-up the file name cleaning function used by the `make_portable_fn` parameter.\nThere are duplicate underscores.\n\nAlso, the 9850 is the session identifier.\n\n:::\n\n## Embed videos\n\n### mp4/9850/Scale\\_error\\_with\\_car\\.mp4\n\n\n{{< video mp4/9850/Scale\\_error\\_with\\_car\\.mp4 >}}\n\n\n\n### mp4/9850/Scale\\_error\\_with\\_chair\\.mp4\n\n\n{{< video mp4/9850/Scale\\_error\\_with\\_chair\\.mp4 >}}\n\n\n\n### mp4/9850/Scale\\_error\\_with\\_car\\_\\_child\\_removes\\_shoe\\_\\.mp4\n\n\n{{< video mp4/9850/Scale\\_error\\_with\\_car\\_\\_child\\_removes\\_shoe\\_\\.mp4 >}}\n\n\n\n### mp4/9850/Scale\\_error\\_with\\_chair\\_\\_2nd\\_example\\_\\.mp4\n\n\n{{< video mp4/9850/Scale\\_error\\_with\\_chair\\_\\_2nd\\_example\\_\\.mp4 >}}\n\n\n\n### mp4/9850/Scale\\_error\\_with\\_slide\\.mp4\n\n\n{{< video mp4/9850/Scale\\_error\\_with\\_slide\\.mp4 >}}\n\n\n\n### mp4/9850/Scale\\_error\\_with\\_slide\\_\\_2nd\\_example\\_\\.mp4\n\n\n{{< video mp4/9850/Scale\\_error\\_with\\_slide\\_\\_2nd\\_example\\_\\.mp4 >}}\n\n\n\n## Log-out\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndatabraryr::logout_db(rq = drq)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}